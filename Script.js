// JavaScript Function Handling button colors

var canvas;
var wait_button;
var draw_area;
// function at start;

function on_start(){
    draw_area = document.getElementById("draw_area");
    wait_button = document.getElementById("wait");
    console.log("Page has started");
}



function bar_items(width,height,x,y,value){
    this.value=value
    this.y=y;
    this.x=x;
    this.width=width;
    this.height=height;
}



function button_click(button_element){
    // get all elements and turn them not active:
    var all_buttons = document.getElementsByClassName("brk-btn");  

    for (let obj of all_buttons){
       // console.log(obj);
        if(obj.classList.contains("active_button")){
            obj.classList.remove("active_button");
        }
    }
    button_element.classList.add("active_button");
    if(button_element.name=="Selection"){
        forced_wait();
    }
}



// esthathic design
function forced_wait(){
    //- If waitbutton is hidden-> show the wait button
    svg_hide();
}



function canvas_hide()
{
    if(canvas.classList.contains("show")){
        canvas.classList.remove("show");
        canvas.classList.remove("visible");
        canvas.classList.add("hide");
    }
    wait_show(wait_hide);
}



function svg_hide()
{
    if(draw_area.classList.contains("show")){
        draw_area.classList.remove("show");
        draw_area.classList.remove("visible");
        draw_area.classList.add("hide");
    }
    wait_show(wait_hide);
}


function wait_show(callback)
{
    if(wait_button.classList.contains("hide")){
        wait_button.classList.remove("hide");
        wait_button.classList.add("visible");
    }
    // -- [ Adds fade in effect] -- //
    setTimeout(function(){
        wait_button.classList.add("show");
    }, 300);

    setTimeout(function(){
        callback(svg_show);
    }, 3000);
}


function wait_hide(callback)
{
    if(draw_area.classList.contains("hide")){
        wait_button.classList.remove("visible");
        wait_button.classList.remove("show");
        wait_button.classList.add("hide");


        draw_area.classList.remove("hide");
        draw_area.classList.add("visible");
    }
    setTimeout(function(){
        callback(selection_sort);
    }, 300);

}



function canvas_show(callback){
    
    wait_button.classList.remove("visible");
    wait_button.classList.remove("show");
    wait_button.classList.add("hide")

    draw_area.classList.add("show");
    setTimeout(function(){
        callback();
    }, 300);
}


function svg_show(){
    draw_area.innerHTML=
        '<path d="M106.354 15.6464C106.158 15.4512 105.842 15.4512 105.646 15.6464L102.464 18.8284C102.269 19.0237 102.269 19.3403 102.464 19.5355C102.66 19.7308 102.976 19.7308 103.172 19.5355L106 16.7071L108.828 19.5355C109.024 19.7308 109.34 19.7308 109.536 19.5355C109.731 19.3403 109.731 19.0237 109.536 18.8284L106.354 15.6464ZM106.5 413L106.5 16L105.5 16L105.5 413L106.5 413Z" fill="black"/>'
        +'<path d="M503.354 413.354C503.549 413.158 503.549 412.842 503.354 412.646L500.172 409.464C499.976 409.269 499.66 409.269 499.464 409.464C499.269 409.66 499.269 409.976 499.464 410.172L502.293 413L499.464 415.828C499.269 416.024 499.269 416.34 499.464 416.536C499.66 416.731 499.976 416.731 500.172 416.536L503.354 413.354ZM106 413.5L503 413.5V412.5L106 412.5V413.5Z" fill="black"/>'
        +'<path d="M265.701 436.773H262.127L261.324 439H260.164L263.422 430.469H264.406L267.67 439H266.516L265.701 436.773ZM262.467 435.848H265.367L263.914 431.857L262.467 435.848ZM271.713 433.633C271.549 433.605 271.371 433.592 271.18 433.592C270.469 433.592 269.986 433.895 269.732 434.5V439H268.648V432.66H269.703L269.721 433.393C270.076 432.826 270.58 432.543 271.232 432.543C271.443 432.543 271.604 432.57 271.713 432.625V433.633ZM275.779 433.633C275.615 433.605 275.438 433.592 275.246 433.592C274.535 433.592 274.053 433.895 273.799 434.5V439H272.715V432.66H273.77L273.787 433.393C274.143 432.826 274.646 432.543 275.299 432.543C275.51 432.543 275.67 432.57 275.779 432.625V433.633ZM280.461 439C280.398 438.875 280.348 438.652 280.309 438.332C279.805 438.855 279.203 439.117 278.504 439.117C277.879 439.117 277.365 438.941 276.963 438.59C276.564 438.234 276.365 437.785 276.365 437.242C276.365 436.582 276.615 436.07 277.115 435.707C277.619 435.34 278.326 435.156 279.236 435.156H280.291V434.658C280.291 434.279 280.178 433.979 279.951 433.756C279.725 433.529 279.391 433.416 278.949 433.416C278.562 433.416 278.238 433.514 277.977 433.709C277.715 433.904 277.584 434.141 277.584 434.418H276.494C276.494 434.102 276.605 433.797 276.828 433.504C277.055 433.207 277.359 432.973 277.742 432.801C278.129 432.629 278.553 432.543 279.014 432.543C279.744 432.543 280.316 432.727 280.73 433.094C281.145 433.457 281.359 433.959 281.375 434.6V437.518C281.375 438.1 281.449 438.562 281.598 438.906V439H280.461ZM278.662 438.174C279.002 438.174 279.324 438.086 279.629 437.91C279.934 437.734 280.154 437.506 280.291 437.225V435.924H279.441C278.113 435.924 277.449 436.312 277.449 437.09C277.449 437.43 277.562 437.695 277.789 437.887C278.016 438.078 278.307 438.174 278.662 438.174ZM285.055 437.412L286.531 432.66H287.691L285.143 439.979C284.748 441.033 284.121 441.561 283.262 441.561L283.057 441.543L282.652 441.467V440.588L282.945 440.611C283.312 440.611 283.598 440.537 283.801 440.389C284.008 440.24 284.178 439.969 284.311 439.574L284.551 438.93L282.289 432.66H283.473L285.055 437.412ZM293.018 439H291.893V430.469H293.018V439ZM295.936 432.66L295.971 433.457C296.455 432.848 297.088 432.543 297.869 432.543C299.209 432.543 299.885 433.299 299.896 434.811V439H298.812V434.805C298.809 434.348 298.703 434.01 298.496 433.791C298.293 433.572 297.975 433.463 297.541 433.463C297.189 433.463 296.881 433.557 296.615 433.744C296.35 433.932 296.143 434.178 295.994 434.482V439H294.91V432.66H295.936ZM301.268 435.777C301.268 434.805 301.498 434.023 301.959 433.434C302.42 432.84 303.023 432.543 303.77 432.543C304.512 432.543 305.1 432.797 305.533 433.305V430H306.617V439H305.621L305.568 438.32C305.135 438.852 304.531 439.117 303.758 439.117C303.023 439.117 302.424 438.816 301.959 438.215C301.498 437.613 301.268 436.828 301.268 435.859V435.777ZM302.352 435.9C302.352 436.619 302.5 437.182 302.797 437.588C303.094 437.994 303.504 438.197 304.027 438.197C304.715 438.197 305.217 437.889 305.533 437.271V434.359C305.209 433.762 304.711 433.463 304.039 433.463C303.508 433.463 303.094 433.668 302.797 434.078C302.5 434.488 302.352 435.096 302.352 435.9ZM310.936 439.117C310.076 439.117 309.377 438.836 308.838 438.273C308.299 437.707 308.029 436.951 308.029 436.006V435.807C308.029 435.178 308.148 434.617 308.387 434.125C308.629 433.629 308.965 433.242 309.395 432.965C309.828 432.684 310.297 432.543 310.801 432.543C311.625 432.543 312.266 432.814 312.723 433.357C313.18 433.9 313.408 434.678 313.408 435.689V436.141H309.113C309.129 436.766 309.311 437.271 309.658 437.658C310.01 438.041 310.455 438.232 310.994 438.232C311.377 438.232 311.701 438.154 311.967 437.998C312.232 437.842 312.465 437.635 312.664 437.377L313.326 437.893C312.795 438.709 311.998 439.117 310.936 439.117ZM310.801 433.434C310.363 433.434 309.996 433.594 309.699 433.914C309.402 434.23 309.219 434.676 309.148 435.25H312.324V435.168C312.293 434.617 312.145 434.191 311.879 433.891C311.613 433.586 311.254 433.434 310.801 433.434ZM316.795 434.975L318.201 432.66H319.467L317.393 435.795L319.531 439H318.277L316.812 436.627L315.348 439H314.088L316.227 435.795L314.152 432.66H315.406L316.795 434.975ZM323.562 438.432C323.562 438.244 323.617 438.088 323.727 437.963C323.84 437.838 324.008 437.775 324.23 437.775C324.453 437.775 324.621 437.838 324.734 437.963C324.852 438.088 324.91 438.244 324.91 438.432C324.91 438.611 324.852 438.762 324.734 438.883C324.621 439.004 324.453 439.064 324.23 439.064C324.008 439.064 323.84 439.004 323.727 438.883C323.617 438.762 323.562 438.611 323.562 438.432ZM323.568 433.258C323.568 433.07 323.623 432.914 323.732 432.789C323.846 432.664 324.014 432.602 324.236 432.602C324.459 432.602 324.627 432.664 324.74 432.789C324.857 432.914 324.916 433.07 324.916 433.258C324.916 433.438 324.857 433.588 324.74 433.709C324.627 433.83 324.459 433.891 324.236 433.891C324.014 433.891 323.846 433.83 323.732 433.709C323.623 433.588 323.568 433.438 323.568 433.258ZM330.506 432.66L330.541 433.457C331.025 432.848 331.658 432.543 332.439 432.543C333.779 432.543 334.455 433.299 334.467 434.811V439H333.383V434.805C333.379 434.348 333.273 434.01 333.066 433.791C332.863 433.572 332.545 433.463 332.111 433.463C331.76 433.463 331.451 433.557 331.186 433.744C330.92 433.932 330.713 434.178 330.564 434.482V439H329.48V432.66H330.506Z" fill="black"/>'
        +'<path d="M84 275.803L84 276.928L75.4687 276.928L75.4687 275.803L84 275.803ZM77.6602 272.885L78.457 272.85C77.8477 272.365 77.543 271.732 77.543 270.951C77.543 269.611 78.2988 268.936 79.8105 268.924L84 268.924L84 270.008L79.8047 270.008C79.3477 270.012 79.0098 270.117 78.791 270.324C78.5723 270.527 78.4629 270.846 78.4629 271.279C78.4629 271.631 78.5566 271.939 78.7441 272.205C78.9316 272.471 79.1777 272.678 79.4824 272.826L84 272.826L84 273.91L77.6602 273.91L77.6602 272.885ZM80.7773 267.553C79.8047 267.553 79.0234 267.322 78.4336 266.861C77.8398 266.4 77.543 265.797 77.543 265.051C77.543 264.309 77.7969 263.721 78.3047 263.287L75 263.287L75 262.203L84 262.203L84 263.199L83.3203 263.252C83.8516 263.686 84.1172 264.289 84.1172 265.062C84.1172 265.797 83.8164 266.396 83.2148 266.861C82.6133 267.322 81.8281 267.553 80.8594 267.553L80.7773 267.553ZM80.9004 266.469C81.6191 266.469 82.1816 266.32 82.5879 266.023C82.9941 265.727 83.1973 265.316 83.1973 264.793C83.1973 264.105 82.8887 263.604 82.2715 263.287L79.3594 263.287C78.7617 263.611 78.4629 264.109 78.4629 264.781C78.4629 265.312 78.668 265.727 79.0781 266.023C79.4883 266.32 80.0957 266.469 80.9004 266.469ZM84.1172 257.885C84.1172 258.744 83.8359 259.443 83.2734 259.982C82.707 260.521 81.9512 260.791 81.0059 260.791L80.8066 260.791C80.1777 260.791 79.6172 260.672 79.125 260.434C78.6289 260.191 78.2422 259.855 77.9648 259.426C77.6836 258.992 77.543 258.523 77.543 258.02C77.543 257.195 77.8145 256.555 78.3574 256.098C78.9004 255.641 79.6777 255.412 80.6895 255.412L81.1406 255.412L81.1406 259.707C81.7656 259.691 82.2715 259.51 82.6582 259.162C83.041 258.811 83.2324 258.365 83.2324 257.826C83.2324 257.443 83.1543 257.119 82.998 256.854C82.8418 256.588 82.6348 256.355 82.377 256.156L82.8926 255.494C83.709 256.025 84.1172 256.822 84.1172 257.885ZM78.4336 258.02C78.4336 258.457 78.5937 258.824 78.9141 259.121C79.2305 259.418 79.6758 259.602 80.25 259.672L80.25 256.496L80.168 256.496C79.6172 256.527 79.1914 256.676 78.8906 256.941C78.5859 257.207 78.4336 257.566 78.4336 258.02ZM79.9746 252.025L77.6602 250.619L77.6602 249.354L80.7949 251.428L84 249.289L84 250.543L81.627 252.008L84 253.473L84 254.732L80.7949 252.594L77.6602 254.668L77.6602 253.414L79.9746 252.025ZM82.5059 242.229L75.4687 239.791L75.4687 238.561L84 241.725L84 242.721L75.4687 245.879L75.4687 244.654L82.5059 242.229ZM84 233.937C83.875 234 83.6523 234.051 83.332 234.09C83.8555 234.594 84.1172 235.195 84.1172 235.895C84.1172 236.52 83.9414 237.033 83.5898 237.436C83.2344 237.834 82.7852 238.033 82.2422 238.033C81.582 238.033 81.0703 237.783 80.707 237.283C80.3398 236.779 80.1562 236.072 80.1562 235.162L80.1562 234.107L79.6582 234.107C79.2793 234.107 78.9785 234.221 78.7559 234.447C78.5293 234.674 78.416 235.008 78.416 235.449C78.416 235.836 78.5137 236.16 78.709 236.422C78.9043 236.684 79.1406 236.814 79.418 236.814L79.418 237.904C79.1016 237.904 78.7969 237.793 78.5039 237.57C78.207 237.344 77.9727 237.039 77.8008 236.656C77.6289 236.27 77.543 235.846 77.543 235.385C77.543 234.654 77.7266 234.082 78.0937 233.668C78.457 233.254 78.959 233.039 79.5996 233.023L82.5176 233.023C83.0996 233.023 83.5625 232.949 83.9062 232.801L84 232.801L84 233.937ZM83.1738 235.736C83.1738 235.396 83.0859 235.074 82.9102 234.77C82.7344 234.465 82.5059 234.244 82.2246 234.107L80.9238 234.107L80.9238 234.957C80.9238 236.285 81.3125 236.949 82.0898 236.949C82.4297 236.949 82.6953 236.836 82.8867 236.609C83.0781 236.383 83.1738 236.092 83.1738 235.736ZM84 230.146L84 231.23L75 231.23L75 230.146L84 230.146ZM83.373 224.492C83.8691 224.914 84.1172 225.533 84.1172 226.35C84.1172 227.025 83.9219 227.541 83.5312 227.896C83.1367 228.248 82.5547 228.426 81.7852 228.43L77.6602 228.43L77.6602 227.346L81.7559 227.346C82.7168 227.346 83.1973 226.955 83.1973 226.174C83.1973 225.346 82.8887 224.795 82.2715 224.521L77.6602 224.521L77.6602 223.437L84 223.437L84 224.469L83.373 224.492ZM84.1172 219.154C84.1172 220.014 83.8359 220.713 83.2734 221.252C82.707 221.791 81.9512 222.061 81.0059 222.061L80.8066 222.061C80.1777 222.061 79.6172 221.941 79.125 221.703C78.6289 221.461 78.2422 221.125 77.9648 220.695C77.6836 220.262 77.543 219.793 77.543 219.289C77.543 218.465 77.8145 217.824 78.3574 217.367C78.9004 216.91 79.6777 216.682 80.6895 216.682L81.1406 216.682L81.1406 220.977C81.7656 220.961 82.2715 220.779 82.6582 220.432C83.041 220.08 83.2324 219.635 83.2324 219.096C83.2324 218.713 83.1543 218.389 82.998 218.123C82.8418 217.857 82.6348 217.625 82.377 217.426L82.8926 216.764C83.709 217.295 84.1172 218.092 84.1172 219.154ZM78.4336 219.289C78.4336 219.727 78.5937 220.094 78.9141 220.391C79.2305 220.687 79.6758 220.871 80.25 220.941L80.25 217.766L80.168 217.766C79.6172 217.797 79.1914 217.945 78.8906 218.211C78.5859 218.477 78.4336 218.836 78.4336 219.289ZM83.4316 212.48C83.2441 212.48 83.0879 212.426 82.9629 212.316C82.8379 212.203 82.7754 212.035 82.7754 211.812C82.7754 211.59 82.8379 211.422 82.9629 211.309C83.0879 211.191 83.2441 211.133 83.4316 211.133C83.6113 211.133 83.7617 211.191 83.8828 211.309C84.0039 211.422 84.0645 211.59 84.0645 211.812C84.0645 212.035 84.0039 212.203 83.8828 212.316C83.7617 212.426 83.6113 212.48 83.4316 212.48ZM78.2578 212.475C78.0703 212.475 77.9141 212.42 77.7891 212.311C77.6641 212.197 77.6016 212.029 77.6016 211.807C77.6016 211.584 77.6641 211.416 77.7891 211.303C77.9141 211.186 78.0703 211.127 78.2578 211.127C78.4375 211.127 78.5879 211.186 78.709 211.303C78.8301 211.416 78.8906 211.584 78.8906 211.807C78.8906 212.029 78.8301 212.197 78.709 212.311C78.5879 212.42 78.4375 212.475 78.2578 212.475ZM84 202.648C83.875 202.711 83.6523 202.762 83.332 202.801C83.8555 203.305 84.1172 203.906 84.1172 204.605C84.1172 205.23 83.9414 205.744 83.5898 206.146C83.2344 206.545 82.7852 206.744 82.2422 206.744C81.582 206.744 81.0703 206.494 80.707 205.994C80.3398 205.49 80.1562 204.783 80.1562 203.873L80.1562 202.818L79.6582 202.818C79.2793 202.818 78.9785 202.932 78.7559 203.158C78.5293 203.385 78.416 203.719 78.416 204.16C78.416 204.547 78.5137 204.871 78.709 205.133C78.9043 205.395 79.1406 205.525 79.418 205.525L79.418 206.615C79.1016 206.615 78.7969 206.504 78.5039 206.281C78.207 206.055 77.9727 205.75 77.8008 205.367C77.6289 204.98 77.543 204.557 77.543 204.096C77.543 203.365 77.7266 202.793 78.0937 202.379C78.457 201.965 78.959 201.75 79.5996 201.734L82.5176 201.734C83.0996 201.734 83.5625 201.66 83.9062 201.512L84 201.512L84 202.648ZM83.1738 204.447C83.1738 204.107 83.0859 203.785 82.9102 203.48C82.7344 203.176 82.5059 202.955 82.2246 202.818L80.9238 202.818L80.9238 203.668C80.9238 204.996 81.3125 205.66 82.0898 205.66C82.4297 205.66 82.6953 205.547 82.8867 205.32C83.0781 205.094 83.1738 204.803 83.1738 204.447ZM78.6328 196.971C78.6055 197.135 78.5918 197.312 78.5918 197.504C78.5918 198.215 78.8945 198.697 79.5 198.951L84 198.951L84 200.035L77.6602 200.035L77.6602 198.98L78.3926 198.963C77.8262 198.607 77.543 198.104 77.543 197.451C77.543 197.24 77.5703 197.08 77.625 196.971L78.6328 196.971ZM78.6328 192.904C78.6055 193.068 78.5918 193.246 78.5918 193.437C78.5918 194.148 78.8945 194.631 79.5 194.885L84 194.885L84 195.969L77.6602 195.969L77.6602 194.914L78.3926 194.896C77.8262 194.541 77.543 194.037 77.543 193.385C77.543 193.174 77.5703 193.014 77.625 192.904L78.6328 192.904ZM80.5371 191.943C79.6543 191.943 78.8066 191.826 77.9941 191.592C77.1816 191.354 76.4434 191 75.7793 190.531C75.1152 190.062 74.6465 189.576 74.373 189.072L75.0879 188.85C75.5254 189.42 76.1934 189.889 77.0918 190.256C77.9902 190.619 78.9961 190.818 80.1094 190.854L80.6074 190.859C82.1152 190.859 83.4238 190.584 84.5332 190.033C85.1973 189.701 85.7168 189.307 86.0918 188.85L86.7539 189.072C86.4648 189.592 85.9805 190.088 85.3008 190.561C83.9727 191.482 82.3848 191.943 80.5371 191.943ZM77.6602 186.775L78.457 186.74C77.8477 186.256 77.543 185.623 77.543 184.842C77.543 183.502 78.2988 182.826 79.8105 182.814L84 182.814L84 183.898L79.8047 183.898C79.3477 183.902 79.0098 184.008 78.791 184.215C78.5723 184.418 78.4629 184.736 78.4629 185.17C78.4629 185.521 78.5566 185.83 78.7441 186.096C78.9316 186.361 79.1777 186.568 79.4824 186.717L84 186.717L84 187.801L77.6602 187.801L77.6602 186.775ZM80.5957 178.678C81.4668 178.678 82.3027 178.793 83.1035 179.023C83.9004 179.25 84.6367 179.6 85.3125 180.072C85.9883 180.541 86.4687 181.033 86.7539 181.549L86.0918 181.777C85.6309 181.176 84.916 180.693 83.9473 180.33C82.9746 179.963 81.8965 179.775 80.7129 179.768L80.5254 179.768C79.7051 179.768 78.9434 179.854 78.2402 180.025C77.5332 180.197 76.9004 180.437 76.3418 180.746C75.7832 181.051 75.3477 181.395 75.0352 181.777L74.373 181.549C74.6582 181.033 75.1348 180.543 75.8027 180.078C76.4707 179.609 77.207 179.26 78.0117 179.029C78.8164 178.795 79.6777 178.678 80.5957 178.678Z" fill="black"/>';
    
        draw_area.classList.add("show");
}

function selection_sort(){
    sort_intantiate();
}



function sort_intantiate(){
    let bars=[];
    let numbers=[];
    var middle= canvas.width / 2 - (60*10) / 2;
    for(var i = 1;i<=10;i++){
        numbers.push(i);
    }

    //randomize 

    numbers.sort(function() { return 0.5 - Math.random() });

    for(var i = 0;i<numbers.length;i++){
        bars.push(new bar_items(50,-35*numbers[i],middle+(i*60),400,numbers[i]));
    }

    console.log();

    svg_draw(bars);
    //sort_start(numbers,middle);
}

function sort_start(arr,middle){
    arr.sort(function(a,b) {
        return (+a) - (+b);
      });
      
    new_bar = [];
    for(var i = 0;i<arr.length;i++){
        new_bar.push(new bar_items(50,-35*arr[i],middle+(i*60),400,arr[i]));
    }

    setTimeout(function(){
        draw(new_bar);
    }, 2000);

    console.log(new_bar);
    console.log(arr);
}



function draw(arrs){
    var ctx = canvas.getContext("2d");
    ctx.beginPath();
    var cw  = canvas.width;
    var ch  = canvas.height;

    console.log({ch,cw});
    ctx.clearRect(0,0,cw,ch); // fully clear the rectangle
 

    ctx.fillStyle = 'grey';
    ctx.strokeStyle = 'black';
    
    for (var i = 0;i<arrs.length;i++){
        var box = arrs[i];
        ctx.rect(box.x,box.y,box.width,box.height);
        ctx.fill();
    }
    ctx.stroke();

}


// Changing from normal draw to svg draw as svg draw retains references. 
function svg_draw(arr)
{

}

